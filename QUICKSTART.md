# 快速启动指南

## 🚀 启动优化版本

### 1. 启动开发模式
```powershell
npm run dev
```

**首次启动**:
- 应用会开始索引 Desktop、Documents、Downloads 文件夹
- 索引时间: 30秒 - 5分钟（取决于文件数量）
- 完成后会在控制台显示: `索引完成，共 XXX 个文件，耗时 X.XX秒`

**再次启动**:
- 直接从数据库加载索引
- 启动时间: < 1秒
- 只更新修改过的文件（增量索引）

### 2. 打包为可执行文件
```powershell
# 构建项目
npm run build

# 打包为 exe
npm run package
```

生成的文件位于: `release/` 目录

## 📊 性能提升对比

| 操作 | 优化前 | 优化后 |
|------|--------|--------|
| 首次启动 | 10-30 分钟 | 30秒-5分钟 |
| 再次启动 | 10-30 分钟 | < 1秒 |
| 搜索速度 | 500-2000ms | 10-50ms |
| 内存占用 | 500MB-2GB | 50-200MB |

## 🎯 核心改进

### ✅ 已实现
1. **SQLite 持久化索引** - 避免每次重新扫描
2. **增量更新** - 只索引变化的文件
3. **批量数据库操作** - 50-100倍性能提升
4. **智能路径策略** - 只索引用户文件夹
5. **访问历史统计** - 智能排序和推荐

### 🔄 待实现
- 文件内容全文搜索
- 文件预览功能
- UI显示索引进度

## 🧪 测试场景

### 测试 1: 搜索性能
```
1. 启动应用
2. 等待索引完成
3. 在搜索框输入: "test"
4. 观察搜索响应时间（应该 < 50ms）
```

### 测试 2: 增量索引
```
1. 首次启动并完成索引
2. 关闭应用
3. 在桌面创建一个新文件
4. 重新启动应用
5. 观察控制台 - 应显示增量索引信息
```

### 测试 3: 访问统计
```
1. 搜索并打开某个文件
2. 再次搜索相同关键词
3. 该文件应在结果中排名更靠前
```

## 🔧 配置文件

编辑 `config.json` 来自定义索引路径:

```json
{
  "search": {
    "indexPaths": [
      "C:\\Users\\Administrator\\Desktop",
      "C:\\Users\\Administrator\\Documents",
      "C:\\Users\\Administrator\\Downloads",
      "D:\\Projects"  // 添加更多路径
    ],
    "excludePaths": [
      "**/node_modules/**",
      "**/.git/**",
      // ... 添加更多排除规则
    ]
  }
}
```

## 📁 数据库位置

索引数据库文件:
```
%AppData%\hacker-file-search\file-index.db
```

Windows 完整路径:
```
C:\Users\Administrator\AppData\Roaming\hacker-file-search\file-index.db
```

### 重置索引
如需重新索引所有文件:
1. 关闭应用
2. 删除 `file-index.db` 文件
3. 重新启动应用

## 🐛 故障排除

### 问题: 索引速度慢
- 检查配置的 `indexPaths` 是否包含大量文件
- 考虑添加更多 `excludePaths` 排除规则

### 问题: 搜索结果不准确
- 可能需要重建索引（删除数据库文件）
- 检查文件是否在配置的索引路径中

### 问题: 应用启动失败
- 检查控制台错误信息
- 尝试删除数据库文件重新索引

## 📝 版本信息

**当前版本**: 2.2.0  
**更新日期**: 2025-10-24  
**主要改进**: 持久化索引 + 增量更新

查看详细技术文档: [PERFORMANCE.md](./PERFORMANCE.md)
